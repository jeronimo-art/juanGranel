(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[543],{40629:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager",function(){return r(53933)}])},86228:function(e,n,r){"use strict";r.d(n,{db:function(){return o}});var t=r(1902),o=(r(72419),r(15063),r(19),t.Z.initializeApp({apiKey:"AIzaSyDmifrQrHHrwOCfFSzjSqa22O08XoilP5o",authDomain:"prodcutosjuangranel.firebaseapp.com",databaseURL:"https://prodcutosjuangranel-default-rtdb.firebaseio.com/productos.json",projectId:"prodcutosjuangranel",storageBucket:"prodcutosjuangranel.appspot.com",messagingSenderId:"220006501964",appId:"1:220006501964:web:897bc51f42e8408994aee9"}).firestore())},53933:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return P},default:function(){return S}});var t=r(85893),o=r(67294),a=r(34051),c=r.n(a),i=r(86228);function s(e,n,r,t,o,a,c){try{var i=e[a](c),s=i.value}catch(u){return void r(u)}i.done?n(s):Promise.resolve(s).then(t,o)}function u(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function c(e){s(a,t,o,c,i,"next",e)}function i(e){s(a,t,o,c,i,"throw",e)}c(void 0)}))}}function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){l(e,n,r[n])}))}return e}var f=function(e){var n={url:"",name:"",description:"",categoria1:""},r=(0,o.useState)(""),a=(r[0],r[1],(0,o.useState)(n)),s=a[0],f=a[1],p=function(e){var n=e.target,r=n.name,t=n.value;f(d({},s,l({},r,t)))},m=function(){var e=u(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.db.collection("links").doc(n).get();case 2:r=e.sent,f(d({},r.data()));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){""===e.currentId?f(d({},n)):m(e.currentId)}),[e.currentId]);!function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:axios.post("https://prodcutosjuangranel-default-rtdb.firebaseio.com/productos/"+s.description+".json").then((function(e){e.data}));case 1:case"end":return e.stop()}}),e)})))}();return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),""!=s.url&&""!=s.name&&""!=s.description&&""!=s.categoria1){e.addOrEditLink(s),f(d({},n));var t=s.url;r.preventDefault(),fetch("https://prodcutosjuangranel-default-rtdb.firebaseio.com/productos/"+s.url+".json",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({pepe:t})}).then((function(){console.log()})),fetch("https://prodcutosjuangranel-default-rtdb.firebaseio.com/productos/"+s.url+".json",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({url1:"",url2:"",url3:"",imagen:"",titulo:"",uno:"",dos:"",tres:""})}).then((function(){console.log()}))}else alert("Rellena todos los campos para poder a\xf1adir el nuevo curso.")},style:{height:"57vh"},className:"input-manager card-body border-primary",children:[(0,t.jsx)("div",{className:"form-group input-group",children:(0,t.jsx)("input",{autoComplete:"off",type:"text",className:"form-control input-news",placeholder:"link del producto: /cursoUno",value:s.url,name:"url",onChange:p})}),(0,t.jsx)("div",{className:"form-group input-group",children:(0,t.jsx)("input",{autoComplete:"off",type:"text",value:s.name,name:"name",placeholder:"ej. https://fruta.png",className:"form-control input-news",onChange:p})}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("input",{autoComplete:"off",type:"text",className:"form-control input-news",placeholder:"Titulo: masaje",name:"description",value:s.description,onChange:p})}),(0,t.jsx)("button",{color:"#9fd364",className:"btnForm",children:""===e.currentId?"Publicar":"Actualizar"})]})})},p=r(41664),m=r.n(p),h=r(34846),v=r(72132);r(64213);function j(e,n,r,t,o,a,c){try{var i=e[a](c),s=i.value}catch(u){return void r(u)}i.done?n(s):Promise.resolve(s).then(t,o)}function x(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function c(e){j(a,t,o,c,i,"next",e)}function i(e){j(a,t,o,c,i,"throw",e)}c(void 0)}))}}function b(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){b(e,n,r[n])}))}return e}var y=function(){var e=(0,o.useState)([]),n=e[0],r=e[1],a=(0,o.useState)(""),s=a[0],u=a[1],l=function(){var e=x(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.db.collection("links").onSnapshot((function(e){var n=[];e.forEach((function(e){n.push(g({},e.data(),{id:e.id}))})),r(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=x(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Eliminar este curso?")){e.next=4;break}return e.next=3,i.db.collection("links").doc(n).delete();case 3:(0,v.Am)("Cursos eliminado",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){l()}),[]);var p=function(){var e=x(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==s){e.next=7;break}return e.next=4,i.db.collection("links").doc().set(n);case 4:(0,v.Am)("Nuevo cursos a\xf1adido",{type:"success"}),e.next=11;break;case 7:return e.next=9,i.db.collection("links").doc(s).update(n);case 9:(0,v.Am)("Cursos actualizado",{type:"info"}),u("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"col-md-4 p-2",children:(0,t.jsx)(f,{addOrEditLink:p,currentId:s,links:n})}),(0,t.jsx)("div",{className:"cards manager-cards",style:{top:"55vh"},children:n&&n.map((function(e){return(0,t.jsx)("div",{itemID:e,className:"card mb-1",children:(0,t.jsx)("div",{className:"cards-cursos_hover",children:(0,t.jsxs)("div",{className:"cards-cursos",children:[(0,t.jsx)("h3",{className:"titulo-cards",children:e.description}),(0,t.jsx)("div",{className:"img-cursos_container",children:(0,t.jsx)("img",{src:e.name,alt:"",className:"img-cursos"})}),(0,t.jsxs)("div",{style:{position:"absolute",right:"10px"},children:[(0,t.jsx)("i",{className:"material-icons text-danger",onClick:function(){return d(e.id)},style:{fontSize:"1.4vh",color:"red"},children:"Eliminar"}),(0,t.jsx)("i",{className:"text-primary",style:{fontSize:"2vh"},children:"/"}),(0,t.jsx)("i",{className:"material-icons text-secondary",onClick:function(){return u(e.id)},style:{fontSize:"1.4vh"},children:"Actualizar"})]}),(0,t.jsx)("div",{className:"texto-card_container",children:(0,t.jsx)(m(),{href:"/productos/"+e.url,passHref:!0,children:(0,t.jsx)(h.ZP,{color:"#7c5e99",className:"btn-cursos",children:"Ver curso"})})})]})})},e.id)}))})]})},w=r(9008),N=r(14713),k=r(11163),O=r.n(k),P=!0,S=function(){var e=(0,N.aF)(),n=e.user;e.error;return e.isLoading?(0,t.jsx)("div",{className:""}):("gerorobalino@gmail.com"!=n.email&&O().push("/"),(0,t.jsxs)("div",{className:"container p-4",children:[(0,t.jsxs)(w.default,{children:[(0,t.jsx)("title",{children:"Manager | Irina Pont\xf3n"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(v.Ix,{theme:"colored"}),(0,t.jsx)("div",{className:"row",children:"gerorobalino@gmail.com"===n.email?(0,t.jsx)("div",{children:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(y,{})})}):(0,t.jsx)(t.Fragment,{})})]}))}}},function(e){e.O(0,[16,846,116,858,774,888,179],(function(){return n=40629,e(e.s=n);var n}));var n=e.O();_N_E=n}]);