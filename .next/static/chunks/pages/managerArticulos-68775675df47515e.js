(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{71875:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/managerArticulos",function(){return t(95350)}])},86228:function(e,n,t){"use strict";t.d(n,{db:function(){return o}});var r=t(1902),o=(t(72419),t(15063),t(19),r.Z.initializeApp({apiKey:"AIzaSyDmifrQrHHrwOCfFSzjSqa22O08XoilP5o",authDomain:"prodcutosjuangranel.firebaseapp.com",databaseURL:"https://prodcutosjuangranel-default-rtdb.firebaseio.com/productos.json",projectId:"prodcutosjuangranel",storageBucket:"prodcutosjuangranel.appspot.com",messagingSenderId:"220006501964",appId:"1:220006501964:web:897bc51f42e8408994aee9"}).firestore())},95350:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return S},default:function(){return P}});var r=t(85893),o=t(67294),a=t(34051),c=t.n(a),i=t(86228);function s(e,n,t,r,o,a,c){try{var i=e[a](c),s=i.value}catch(u){return void t(u)}i.done?n(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function c(e){s(a,r,o,c,i,"next",e)}function i(e){s(a,r,o,c,i,"throw",e)}c(void 0)}))}}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}var p=function(e){var n={url:"",name:"",description:""},t=(0,o.useState)(n),a=t[0],s=t[1],p=function(e){var n=e.target,t=n.name,r=n.value;s(d({},a,l({},t,r)))},f=(0,o.useState)(""),m=f[0],h=f[1],v=(new Date).getFullYear(),x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agostp","Septiembre","Octubre","Noviembre","Diciembre"][(new Date).getMonth()]+" "+(new Date).getDate()+", "+v,b=function(){var e=u(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.db.collection("post").doc(n).get();case 2:t=e.sent,s(d({},t.data()));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){""===e.currentId?s(d({},n)):b(e.currentId)}),[e.currentId]);!function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:axios.post("https://prodcutosjuangranel-default-rtdb.firebaseio.com/articulos/"+a.description+".json").then((function(e){e.data}));case 1:case"end":return e.stop()}}),e)})))}();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:function(t){t.preventDefault();!function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:axios.get("https://prodcutosjuangranel-default-rtdb.firebaseio.com/articulos/"+a.url+".json").then((function(e){var n=e.data;h(n)}));case 1:case"end":return e.stop()}}),e)})))}();""!=a.url&&""!=a.name&&""!=a.description?(e.addOrEditLink(a),s(d({},n)),t.preventDefault(),fetch("https://prodcutosjuangranel-default-rtdb.firebaseio.com/articulos/"+a.url+".json",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({desc:m.desc,dieta:"",imagen:"",propiedades:x,titulo:"",contenido:""})}).then((function(){console.log()}))):alert("Rellena todos los campos para poder a\xf1adir el nuevo curso.")},style:{height:"57vh"},className:"input-manager card-body border-primary",children:[(0,r.jsx)("div",{className:"form-group input-group",children:(0,r.jsx)("input",{autoComplete:"off",type:"text",className:"form-control input-news",placeholder:"link del articulo: /uno-dos",value:a.url,name:"url",onChange:p})}),(0,r.jsx)("div",{className:"form-group input-group",children:(0,r.jsx)("input",{autoComplete:"off",type:"text",value:a.name,name:"name",placeholder:"ej. https://fruta.png",className:"form-control input-news",onChange:p})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{autoComplete:"off",type:"text",className:"form-control input-news",placeholder:"Titulo: masaje",name:"description",value:a.description,onChange:p})}),(0,r.jsx)("button",{color:"#9fd364",className:"btnForm",children:""===e.currentId?"Publicar":"Actualizar"})]})})},f=t(41664),m=t.n(f),h=t(34846),v=t(72132);t(64213);function x(e,n,t,r,o,a,c){try{var i=e[a](c),s=i.value}catch(u){return void t(u)}i.done?n(s):Promise.resolve(s).then(r,o)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function c(e){x(a,r,o,c,i,"next",e)}function i(e){x(a,r,o,c,i,"throw",e)}c(void 0)}))}}function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}var y=function(){var e=(0,o.useState)([]),n=e[0],t=e[1],a=(0,o.useState)(""),s=a[0],u=a[1],l=function(){var e=b(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.db.collection("post").onSnapshot((function(e){var n=[];e.forEach((function(e){n.push(g({},e.data(),{id:e.id}))})),t(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=b(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Eliminar este Articulo?")){e.next=4;break}return e.next=3,i.db.collection("post").doc(n).delete();case 3:(0,v.Am)("Articulos eliminado",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){l()}),[]);var f=function(){var e=b(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==s){e.next=7;break}return e.next=4,i.db.collection("post").doc().set(n);case 4:(0,v.Am)("Nuevo Articulos a\xf1adido",{type:"success"}),e.next=11;break;case 7:return e.next=9,i.db.collection("post").doc(s).update(n);case 9:(0,v.Am)("Articulos actualizado",{type:"info"}),u("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"col-md-4 p-2",children:(0,r.jsx)(p,{addOrEditLink:f,currentId:s,links:n})}),(0,r.jsx)("div",{className:"cards manager-cards",style:{top:"55vh"},children:n&&n.map((function(e){return(0,r.jsx)("div",{itemID:e,className:"card mb-1",children:(0,r.jsx)("div",{className:"cards-cursos_hover",children:(0,r.jsxs)("div",{className:"cards-cursos",children:[(0,r.jsx)("h3",{className:"titulo-cards",children:e.description}),(0,r.jsx)("div",{className:"img-cursos_container",children:(0,r.jsx)("img",{src:e.name,alt:"",className:"img-cursos"})}),(0,r.jsxs)("div",{style:{position:"absolute",right:"10px"},children:[(0,r.jsx)("i",{className:"material-icons text-danger",onClick:function(){return d(e.id)},style:{fontSize:"1.4vh",color:"red"},children:"Eliminar"}),(0,r.jsx)("i",{className:"text-primary",style:{fontSize:"2vh"},children:"/"}),(0,r.jsx)("i",{className:"material-icons text-secondary",onClick:function(){return u(e.id)},style:{fontSize:"1.4vh"},children:"Actualizar"})]}),(0,r.jsx)("div",{className:"texto-card_container",children:(0,r.jsx)(m(),{href:"/articulos/"+e.url,passHref:!0,children:(0,r.jsx)(h.ZP,{color:"#7c5e99",className:"btn-cursos",children:"Ver articulo"})})})]})})},e.id)}))})]})},w=t(9008),N=t(14713),k=t(11163),O=t.n(k),S=!0,P=function(){var e=(0,N.aF)(),n=e.user;e.error;return e.isLoading?(0,r.jsx)("div",{className:""}):("gerorobalino@gmail.com"!=n.email&&O().push("/"),(0,r.jsxs)("div",{className:"container p-4",children:[(0,r.jsxs)(w.default,{children:[(0,r.jsx)("title",{children:"Manager | Irina Pont\xf3n"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(v.Ix,{theme:"colored"}),(0,r.jsx)("div",{className:"row",children:"gerorobalino@gmail.com"===n.email?(0,r.jsx)("div",{children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y,{})})}):(0,r.jsx)(r.Fragment,{})})]}))}}},function(e){e.O(0,[16,846,116,858,774,888,179],(function(){return n=71875,e(e.s=n);var n}));var n=e.O();_N_E=n}]);